{"ast":null,"code":"import _slicedToArray from\"/Users/olgapomytkina/YandexPraktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./Card';import Error from'./Error';import api from'../utils/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var onEditProfile=props.onEditProfile,onAddPlace=props.onAddPlace,onEditAvatar=props.onEditAvatar,onCardClick=props.onCardClick;// переменные состояния карточек\nvar _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),cards=_React$useState2[0],setCards=_React$useState2[1];//  переменные состояния данных пользователя\nvar _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userName=_React$useState4[0],setUserName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userDescription=_React$useState6[0],setUserDescription=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),userAvatar=_React$useState8[0],setUserAvatar=_React$useState8[1];// переменная состояния ошибки\nvar _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),errorMessage=_React$useState10[0],setErrorMessage=_React$useState10[1];// получаем данные пользователя и карточки с сервера\nReact.useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),user=_ref2[0],cards=_ref2[1];setUserName(user.name);setUserDescription(user.about);setUserAvatar(user.avatar);setCards(cards);}).catch(function(err){console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445: \".concat(err));setErrorMessage('Произошла ошибка при получении данных');});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-container\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\",className:\"profile__avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",name:\"profile-name\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",name:\"profile-about\",children:userDescription}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{\"aria-label\":\"\\u0424\\u043E\\u0442\\u043E\\u0441\\u0435\\u0442\\u043A\\u0430\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"photo-grid\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id);})})}),errorMessage&&/*#__PURE__*/_jsx(Error,{message:errorMessage})]});}export default Main;","map":{"version":3,"names":["React","Card","Error","api","jsx","_jsx","jsxs","_jsxs","Main","props","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_React$useState","useState","_React$useState2","_slicedToArray","cards","setCards","_React$useState3","_React$useState4","userName","setUserName","_React$useState5","_React$useState6","userDescription","setUserDescription","_React$useState7","_React$useState8","userAvatar","setUserAvatar","_React$useState9","_React$useState10","errorMessage","setErrorMessage","useEffect","Promise","all","getUserInfo","getInitialCards","then","_ref","_ref2","user","name","about","avatar","catch","err","console","log","concat","className","children","onClick","src","alt","type","map","card","_id","message"],"sources":["/Users/olgapomytkina/YandexPraktikum/mesto-react/src/components/Main.js"],"sourcesContent":["import React from 'react';\nimport Card from './Card';\nimport Error from './Error';\nimport api from '../utils/Api';\n\nfunction Main(props) {\n    const { onEditProfile, onAddPlace, onEditAvatar, onCardClick } = props;\n\n    // переменные состояния карточек\n    const [cards, setCards] = React.useState([]);\n\n    //  переменные состояния данных пользователя\n    const [userName, setUserName] = React.useState('');\n    const [userDescription, setUserDescription] = React.useState('');\n    const [userAvatar, setUserAvatar] = React.useState('');\n\n    // переменная состояния ошибки\n    const [errorMessage, setErrorMessage] = React.useState('');\n\n    // получаем данные пользователя и карточки с сервера\n    React.useEffect(() => {\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n            .then(([user, cards]) => {\n                setUserName(user.name);\n                setUserDescription(user.about);\n                setUserAvatar(user.avatar);\n                setCards(cards);\n            })\n            .catch((err) => {\n                console.log(`Ошибка при получении данных: ${err}`);\n                setErrorMessage('Произошла ошибка при получении данных');\n            })\n    }, []);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n                    <img src={userAvatar} alt=\"Аватар профиля\" className=\"profile__avatar\" />\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\" name=\"profile-name\">{userName}</h1>\n                    <p className=\"profile__about\" name=\"profile-about\">{userDescription}</p>\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n            </section>\n\n            <section aria-label=\"Фотосетка\">\n                <ul className=\"photo-grid\">\n                    {cards.map(card => (\n                        <Card key={card._id} card={card} onCardClick={onCardClick} />\n                    ))}\n                </ul>\n            </section>\n            {errorMessage && <Error message={errorMessage} />}\n        </main>\n    )\n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}