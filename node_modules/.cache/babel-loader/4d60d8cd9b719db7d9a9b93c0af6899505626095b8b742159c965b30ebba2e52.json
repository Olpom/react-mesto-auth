{"ast":null,"code":"import _slicedToArray from\"/Users/olgapomytkina/YandexPraktikum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(props){var isOpen=props.isOpen,onClose=props.onClose,onUpdateAvatar=props.onUpdateAvatar;var currentUser=useContext(CurrentUserContext);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),avatar=_useState2[0],setAvatar=_useState2[1];var avatarRef=useRef(null);useEffect(function(){avatarRef.current.value=currentUser.avatar;},[currentUser]);function handleSubmit(evt){evt.preventDefault();onUpdateAvatar(avatarRef.current.value);}useEffect(function(){setAvatar('');},[isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"avatar\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"popup__input popup__input_type_avatar\",id:\"urlav\",name:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",required:true,value:avatar,onChange:function onChange(evt){return setAvatar(evt.target.value);},ref:avatarRef}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error urlav-error\"})]})});}export default EditAvatarPopup;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","props","isOpen","onClose","onUpdateAvatar","currentUser","_useState","_useState2","_slicedToArray","avatar","setAvatar","avatarRef","current","value","handleSubmit","evt","preventDefault","title","name","onSubmit","buttonText","children","className","type","id","placeholder","required","onChange","target","ref"],"sources":["/Users/olgapomytkina/YandexPraktikum/mesto-react/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n\n  const { isOpen, onClose, onUpdateAvatar } = props;\n  const currentUser = useContext(CurrentUserContext);\n  const [avatar, setAvatar] = useState('');\n  const avatarRef = useRef(null);\n\n  useEffect(() => {\n    avatarRef.current.value = currentUser.avatar;\n  }, [currentUser]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar(avatarRef.current.value);\n  }\n\n  useEffect(() => {\n    setAvatar('');\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText=\"Сохранить\"\n      children={\n        <div className=\"popup__form\">\n          <input\n            type=\"url\"\n            className=\"popup__input popup__input_type_avatar\"\n            id=\"urlav\"\n            name=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            required\n            value={avatar}\n            onChange={(evt) => setAvatar(evt.target.value)}\n            ref={avatarRef} />\n          <span className=\"popup__error urlav-error\"></span>\n        </div>\n      }\n    />\n  )\n}\n\nexport default EditAvatarPopup;\n"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,MAAM,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACtE,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,eAAeA,CAACC,KAAK,CAAE,CAE9B,GAAQ,CAAAC,MAAM,CAA8BD,KAAK,CAAzCC,MAAM,CAAEC,OAAO,CAAqBF,KAAK,CAAjCE,OAAO,CAAEC,cAAc,CAAKH,KAAK,CAAxBG,cAAc,CACvC,GAAM,CAAAC,WAAW,CAAGf,UAAU,CAACK,kBAAkB,CAAC,CAClD,IAAAW,SAAA,CAA4Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,GAAM,CAAAI,SAAS,CAAGpB,MAAM,CAAC,IAAI,CAAC,CAE9BC,SAAS,CAAC,UAAM,CACdmB,SAAS,CAACC,OAAO,CAACC,KAAK,CAAGR,WAAW,CAACI,MAAM,CAC9C,CAAC,CAAE,CAACJ,WAAW,CAAC,CAAC,CAEjB,QAAS,CAAAS,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,EAAE,CACpBZ,cAAc,CAACO,SAAS,CAACC,OAAO,CAACC,KAAK,CAAC,CACzC,CAEArB,SAAS,CAAC,UAAM,CACdkB,SAAS,CAAC,EAAE,CAAC,CACf,CAAC,CAAE,CAACR,MAAM,CAAC,CAAC,CAEZ,mBACEL,IAAA,CAACH,aAAa,EACZuB,KAAK,CAAC,uFAAiB,CACvBC,IAAI,CAAC,QAAQ,CACbhB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBgB,QAAQ,CAAEL,YAAa,CACvBM,UAAU,CAAC,wDAAW,CACtBC,QAAQ,cACNtB,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1BxB,IAAA,UACE0B,IAAI,CAAC,KAAK,CACVD,SAAS,CAAC,uCAAuC,CACjDE,EAAE,CAAC,OAAO,CACVN,IAAI,CAAC,KAAK,CACVO,WAAW,CAAC,oGAAoB,CAChCC,QAAQ,MACRb,KAAK,CAAEJ,MAAO,CACdkB,QAAQ,CAAE,SAAAA,SAACZ,GAAG,QAAK,CAAAL,SAAS,CAACK,GAAG,CAACa,MAAM,CAACf,KAAK,CAAC,EAAC,CAC/CgB,GAAG,CAAElB,SAAU,EAAG,cACpBd,IAAA,SAAMyB,SAAS,CAAC,0BAA0B,EAAQ,GAErD,EACD,CAEN,CAEA,cAAe,CAAAtB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}