{"ast":null,"code":"import React,{useContext}from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var card=props.card,onCardClick=props.onCardClick,onCardLike=props.onCardLike,onCardDelete=props.onCardDelete;// подписываемся на контекст\nvar currentUser=useContext(CurrentUserContext);// определяем, являемся ли мы владельцем карточки\nvar isOwn=card.owner._id===currentUser._id;// определяем постановку нами лайка карточке\nvar isLiked=card.likes.some(function(like){return like._id===currentUser._id;});// определяем класс для кнопки лайка\nvar cardLikeButtonClassName=\"photo-grid__like-button \".concat(isLiked?'photo-grid__like-button_active':'');// определяем класс для удаления карточки\nvar cardDeleteButtonClassName=\"photo-grid__delete-button \".concat(isOwn?'photo-grid__delete-button_active':'');var handleCardClick=function handleCardClick(){onCardClick(card);};var handleLikeClick=function handleLikeClick(){onCardLike(card);};var handleDeleteClick=function handleDeleteClick(){onCardDelete(card);};return/*#__PURE__*/_jsxs(\"li\",{className:\"photo-grid__item card-element\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,type:\"button\",onClick:handleDeleteClick}),/*#__PURE__*/_jsx(\"img\",{alt:card.name,src:card.link,className:\"photo-grid__image\",onClick:handleCardClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"photo-grid__item-description\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"photo-grid__item-name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"photo-grid__like\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"div\",{className:\"photo-grid__like-count\",children:card.likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["React","useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","props","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","isLiked","likes","some","like","cardLikeButtonClassName","concat","cardDeleteButtonClassName","handleCardClick","handleLikeClick","handleDeleteClick","className","children","type","onClick","alt","name","src","link","length"],"sources":["/Users/olgapomytkina/YandexPraktikum/mesto-react/src/components/Card.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const { card, onCardClick, onCardLike, onCardDelete } = props;\n\n    // подписываемся на контекст\n    const currentUser = useContext(CurrentUserContext);\n\n    // определяем, являемся ли мы владельцем карточки\n    const isOwn = card.owner._id === currentUser._id;\n    \n    // определяем постановку нами лайка карточке\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n    \n    // определяем класс для кнопки лайка\n    const cardLikeButtonClassName = `photo-grid__like-button ${\n        isLiked ? 'photo-grid__like-button_active' : ''\n    }`;\n    \n    // определяем класс для удаления карточки\n    const cardDeleteButtonClassName = `photo-grid__delete-button ${\n        isOwn ? 'photo-grid__delete-button_active' : ''\n    }`;\n\n    const handleCardClick = () => {\n        onCardClick(card);\n    };\n\n    const handleLikeClick = () => {\n        onCardLike(card);\n    };\n\n    const handleDeleteClick = () => {\n        onCardDelete(card);\n    };\n\n    return (\n        <li className=\"photo-grid__item card-element\">\n            {isOwn && (<button \n            className={cardDeleteButtonClassName} \n            type=\"button\" \n            onClick={handleDeleteClick}/>)}\n            <img \n            alt={card.name} \n            src={card.link} \n            className=\"photo-grid__image\" \n            onClick={handleCardClick} />\n                <div className=\"photo-grid__item-description\">\n                    <h2 className=\"photo-grid__item-name\">{card.name}</h2>\n                    <div className=\"photo-grid__like\">\n                        <button \n                        className={cardLikeButtonClassName} \n                        type=\"button\" \n                        onClick={handleLikeClick}/>\n                        <div className=\"photo-grid__like-count\">{card.likes.length}</div>\n                    </div>\n                </div>\n        </li>\n    )\n}\n\nexport default Card;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CACjB,GAAQ,CAAAC,IAAI,CAA4CD,KAAK,CAArDC,IAAI,CAAEC,WAAW,CAA+BF,KAAK,CAA/CE,WAAW,CAAEC,UAAU,CAAmBH,KAAK,CAAlCG,UAAU,CAAEC,YAAY,CAAKJ,KAAK,CAAtBI,YAAY,CAEnD;AACA,GAAM,CAAAC,WAAW,CAAGZ,UAAU,CAACC,kBAAkB,CAAC,CAElD;AACA,GAAM,CAAAY,KAAK,CAAGL,IAAI,CAACM,KAAK,CAACC,GAAG,GAAKH,WAAW,CAACG,GAAG,CAEhD;AACA,GAAM,CAAAC,OAAO,CAAGR,IAAI,CAACS,KAAK,CAACC,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACJ,GAAG,GAAKH,WAAW,CAACG,GAAG,GAAC,CAEvE;AACA,GAAM,CAAAK,uBAAuB,4BAAAC,MAAA,CACzBL,OAAO,CAAG,gCAAgC,CAAG,EAAE,CACjD,CAEF;AACA,GAAM,CAAAM,yBAAyB,8BAAAD,MAAA,CAC3BR,KAAK,CAAG,kCAAkC,CAAG,EAAE,CACjD,CAEF,GAAM,CAAAU,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1Bd,WAAW,CAACD,IAAI,CAAC,CACrB,CAAC,CAED,GAAM,CAAAgB,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1Bd,UAAU,CAACF,IAAI,CAAC,CACpB,CAAC,CAED,GAAM,CAAAiB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC5Bd,YAAY,CAACH,IAAI,CAAC,CACtB,CAAC,CAED,mBACIH,KAAA,OAAIqB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EACxCd,KAAK,eAAKV,IAAA,WACXuB,SAAS,CAAEJ,yBAA0B,CACrCM,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEJ,iBAAkB,EAAG,cAC9BtB,IAAA,QACA2B,GAAG,CAAEtB,IAAI,CAACuB,IAAK,CACfC,GAAG,CAAExB,IAAI,CAACyB,IAAK,CACfP,SAAS,CAAC,mBAAmB,CAC7BG,OAAO,CAAEN,eAAgB,EAAG,cACxBlB,KAAA,QAAKqB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eACzCxB,IAAA,OAAIuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEnB,IAAI,CAACuB,IAAI,EAAM,cACtD1B,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BxB,IAAA,WACAuB,SAAS,CAAEN,uBAAwB,CACnCQ,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEL,eAAgB,EAAE,cAC3BrB,IAAA,QAAKuB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEnB,IAAI,CAACS,KAAK,CAACiB,MAAM,EAAO,GAC/D,GACJ,GACT,CAEb,CAEA,cAAe,CAAA5B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}